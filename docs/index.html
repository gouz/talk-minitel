<!doctype html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=./favicon.svg sizes=any type=image/svg+xml><title>3615 Twitch</title><link rel=stylesheet href=slidesk.css><link href=./plugins/steps/steps.css rel=stylesheet><link href=./plugins/progress/progress.css rel=stylesheet><link href=./plugins/qrcode/qrcode.css rel=stylesheet><link href=./plugins/sbs/sbs.css rel=stylesheet><link href=./plugins/webcam/webcam.css rel=stylesheet><link href=./plugins/minitel/minitel.css rel=stylesheet><link href=./plugins/highlightjs/default.min.css rel=stylesheet><link href=./plugins/highlightjs/highlightjs.copy.css rel=stylesheet><link href=./plugins/highlightjs/plugin.css rel=stylesheet><link rel=stylesheet href=assets/custom.css></head><body class=sd-app><section class=sd-slide data-num=0 data-slug=""><h1>3615 Twitch</h1><div class=minitel>un bot dans mon minitel ?</div><p><span data-minitel=assets/minitel/TNT.png></span></p><aside class=sd-notes>Dans ce talk, des indices sont prÃ©sents sur certaines slides, vous permettant d'interagir avec le minitel.<br><br>REX sur projet, interaction avec communautÃ©<br><br>Pile d'image, prompt ...<br></aside></section><section class=sd-slide data-num=1 data-slug=!slide-1><p></p><div class=sd-img><img src=assets/introduction/genealogy.drawio.svg loading=lazy alt="undefined"></div><p></p></section><section class=sd-slide data-num=2 data-slug=3615-gouz><h2>3615 GOUZ</h2><p><span class=b>Sylvain Gougouzian</span></p><p>Consultant Dev Senior</p><p></p><div class=sd-img><img src=assets/introduction/zenika.svg loading=lazy alt=zenika width=300></div><p></p><p>Clermont-Ferrand</p><p><span class=b><a href=https://gouz.dev target=_blank rel=noopener>https://gouz.dev</a></span></p><p><span data-minitel=assets/minitel/me.jpg></span></p></section><section class=sd-slide data-num=3 data-slug=historique-du-minitel><h2>Historique du Minitel</h2></section><section class="sd-slide auto-4500" data-num=4 data-slug=!slide-4><img class="reload full-sized" src=./assets/history/backtothefuture.gif></section><section class=sd-slide data-num=5 data-slug=minitel><h2>MINITEL</h2><p><span class=minitel>M</span>Ã©dium <span class=minitel>I</span>nteractif par <span class=minitel>N</span>umÃ©risation dâ€™<span class=minitel>I</span>nformation <span class=minitel>TEL</span>Ã©phonique</p><aside class=sd-notes>DÃ©but 80s => 30 juin 2012<br><br>ce qui est somme toute assez tard au vu de lâ€™arrivÃ©e dâ€™internet dans le milieu des annÃ©es 90.<br></aside><p><span data-minitel=assets/backgrounds/annuaire.jpg></span></p></section><section class="sd-slide steps a-quoi-ca-sert" data-num=6 data-slug=a-quoi-a-servait-><h2>A quoi Ã§a servait ????</h2><ul><li>ğŸ“– : Renseignements / Annuaires</li><li>ğŸš„ : SNCF</li><li>ğŸ“¦ : Vente A Distance</li><li>ğŸ“ : RÃ©sultats des examens</li><li>ğŸ’˜ : Sites de rencontres</li><li>ğŸ“£ : Petites annonces</li><li>ğŸ’Ÿ : Minitel rose</li><li>ğŸš— : Blablacar-like</li><li>ğŸ’¬ : Forums</li><li>ğŸ“¨ : Mails</li><li>â›…ï¸ ğŸŒœ ğŸ•¹ï¸ ...</li></ul><aside class=sd-notes>qui a fait la fortune du crÃ©ateur dâ€™un des fournisseurs dâ€™accÃ¨s Ã  Internet. et la risÃ©e de la france pour cette technologie<br></aside></section><section class=sd-slide data-num=7 data-slug=dploiement><h2>DÃ©ploiement</h2><p>55 foyers Ã  Saint-MalÃ´ en Juillet 1980</p><p>4000 en Ille-et-Vilaine en 1981</p><p>4 juin 1982 : lancement officiel</p><aside class=sd-notes>Giscard, informatiser la france<br><br>Remplacement de l'annuaire<br>Avant c'Ã©tait que dans les dÃ©partements, impossible de trouver ailleurs<br>Minitel gratuit si on Ã©tait abonnÃ© aux PTT<br></aside><p><span data-minitel=assets/minitel/bretagne.jpeg></span></p></section><section class=sd-slide data-num=8 data-slug=fvrier-1984><h2>FÃ©vrier 1984</h2><p>3615</p><aside class=sd-notes>1 franc la minute, avec l'inflation : 0.34e la minute, environ 20e de l'heure<br><br>DGT prenait 30 Ã  40% sur les communications<br><br>la moitiÃ© des revenus vennait du minitel rose<br></aside></section><section class=sd-slide data-num=9 data-slug=technique><h2>Technique</h2><div class=bigger>ğŸ“ğŸ‡«ğŸ‡·</div><p>Norme Antiope du service de tÃ©lÃ©communications VidÃ©otex</p></section><section class=sd-slide data-num=10 data-slug=transpac><h2>Transpac</h2><p></p><div class=sd-img><img src=assets/history/transpac.jpeg loading=lazy alt=transpac width=1000></div><p></p><aside class=sd-notes>En 1977 choix entre Transpac et Cyclades => Cyclades basÃ© sur un rÃ©seau distribuÃ© comme Arpanet<br>Transpac offrait un monopole sur le rÃ©seau Ã  l'Ã©tat qui lui permettait de tout controller<br></aside></section><section class=sd-slide data-num=11 data-slug=videotex><h2>Videotex</h2><p></p><div class=sd-img><img src=assets/videotex/transpac.drawio.svg loading=lazy alt=transpac width=900></div><p></p><aside class=sd-notes>Le VidÃ©otex est un service de tÃ©lÃ©communications permettant l'envoi de pages composÃ©es de textes et de graphismes simples Ã  un utilisateur en rÃ©ponse Ã  une requÃªte de ce dernier (interactivitÃ©)<br>Ces pages sont destinÃ©es Ã  Ãªtre visualisÃ©es sur un Ã©cran cathodique, par exemple sur une tÃ©lÃ©vision ou tout autre Ã©cran au format de la tÃ©lÃ©vision.<br>Le Minitel franÃ§ais est le terminal adaptÃ© Ã  ce service.<br></aside></section><section class=sd-slide data-num=12 data-slug=teletexte><h2>Teletexte</h2><p></p><div class=sd-img><img src=assets/videotex/teletexte_tf1.webp loading=lazy alt=teletexte width=800></div><p></p></section><section class="sd-slide sbs svgconvert" data-num=13 data-slug=caractristiques-techniques><h2>CaractÃ©ristiques techniques</h2><p></p><div class=sd-img><img src=assets/videotex/resolution.drawio.svg loading=lazy alt="undefined"></div><p></p><aside class=sd-notes>La rÃ©solution du Minitel est de 40 caractÃ¨res sur 24 rangÃ©es.<br></aside></section><section class=sd-slide data-num=14 data-slug=mode-semi-graphique><h2>Mode semi-graphique</h2><p></p><div class=sd-img><img src=assets/videotex/semi-graphique.drawio.svg loading=lazy alt="undefined"></div><p></p><aside class=sd-notes>Il est possible de passer en mode semi-graphique pour diviser chaque caractÃ¨res en rectangles de 2 pixels horizontaux pour 3 pixels verticaux.<br>Nous obtenons donc une rÃ©solution de 80px de large sur 72px de haut.<br>Le minitel est capable dâ€™afficher 8 niveaux de gris, mais les rectangles de pixels ne peuvent avoir que 2 couleurs diffÃ©rentes, la couleur du "texte" et la couleur de fond.<br></aside></section><section class=sd-slide data-num=15 data-slug=!slide-15><p></p><div class=sd-img><img src=assets/videotex/BretagneVTX.gif loading=lazy alt="undefined"></div><p></p></section><section class=sd-slide data-num=16 data-slug=!slide-16><p></p><div class=sd-img><img src=assets/videotex/230516_Minitel.jpg loading=lazy alt="undefined"></div><p></p></section><section class="sd-slide sbs svgconvert" data-num=17 data-slug=nouvelle-rsolution><h2>Nouvelle rÃ©solution</h2><p></p><div class=sd-img><img src=assets/videotex/resolution_px.drawio.svg loading=lazy alt="undefined"></div><p></p></section><section class=sd-slide data-num=18 data-slug=les-motifs><h2>Les motifs</h2><p></p><div class=sd-img><img src=assets/videotex/code_mosaique.png loading=lazy alt="code mosaÃ¯que" height=600></div><p></p><div class=small><p><span class=i>Bernard MARTI â€” Travail personnel</span></p><p><span class=i>Extrait d'un cours donnÃ© Ã  l'UniversitÃ© de Paris Dauphine sur l'histoire du VidÃ©otex : code mosaÃ¯que</span></p></div><aside class=sd-notes>Le mode semi-graphique permet de crÃ©er des motifs dans ces rectangles et de stocker cette information sur 7 bits.<br>Dâ€™aprÃ¨s le tableau, on peut constater que pour obtenir uniquement les motifs, â€œb6â€ doit Ãªtre Ã  1 (ce qui correspond au bit 5).<br></aside></section><section class=sd-slide data-num=19 data-slug=structure-dun-caractre><h2>Structure d'un caractÃ¨re</h2><p></p><div class=sd-img><img src=assets/videotex/caractere.drawio.svg loading=lazy alt="undefined"></div><p></p></section><section class=sd-slide data-num=20 data-slug=0b1110111-ou-0x77><h2>0b1110111 ou 0x77</h2><p></p><div class=sd-img><img src=assets/videotex/caractere.c.drawio.svg loading=lazy alt="undefined"></div><p></p><aside class=sd-notes>Ainsi le motif suivant correspond Ã  la valeur 0b1110111 ou plus simplement en hexadÃ©cimal 0x77 :<br>Maintenant que nous avons compris comment est gÃ©nÃ©rÃ© un motif, il faut savoir quel est le motif Ã  rÃ©aliser en fonction de lâ€™image.<br></aside></section><section class="sd-slide conversion" data-num=21 data-slug=la-luminance-ou-luma-y><h2>La luminance ou luma (Y')</h2><p></p><div class=sd-img><img src=assets/videotex/Art_Luma_Galaxy.webp loading=lazy alt="undefined"></div><p></p><p>Partie du signal qui transporte l'information de luminositÃ© de chaque Ã©lÃ©ment de l'Ã©cran</p><p><span data-minitel=assets/videotex/Art_Luma_Galaxy.webp></span></p><aside class=sd-notes>Pour cela, nous allons introduire une nouvelle notion : la luminance.<br><br>En technique vidÃ©o couleur, le signal de luminance ou luma, couramment nommÃ© luminance, est la partie du signal, commune avec la vidÃ©o noir et blanc, qui transporte l'information de luminositÃ© de chaque Ã©lÃ©ment de l'Ã©cran.<br></aside></section><section class="sd-slide conversion" data-num=22 data-slug=et-sur-le-minitel-><h2>Et sur le minitel ?</h2><div class=formula><p>Yâ€™ = 0,299 x <span class=red>R</span> + 0,587 x <span class=green>G</span> + 0,114 x <span class=blue>B</span></p></div><aside class=sd-notes><br>Pour construire la luma Yâ€™, le Minitel utilise la recommandation UIT-R BT 601 en se basant sur les composantes rouge R, verte G et bleue B, elles-mÃªmes codÃ©es sur 256 valeurs. La luma est Ã©galement encodÃ©e sur 256 valeurs.<br></aside></section><section class="sd-slide conversion" data-num=23 data-slug=blanc-pur><h2>Blanc pur</h2><span style=width:5vw;height:5vw;background:#fff;display:inline-block;margin-bottom:3vw></span><div class=formula><p>Yâ€™ = 0,299 x <span class=red>255</span> + 0,587 x <span class=green>255</span> + 0,114 x <span class=blue>255</span></p><p>Y' = 76,245 + 149,685 + 29,07</p><p>Y' = 255</p></div></section><section class="sd-slide conversion" data-num=24 data-slug=bleu-pur><h2>Bleu pur</h2><span style=width:5vw;height:5vw;background:#00f;display:inline-block;margin-bottom:3vw></span><div class=formula><p>Yâ€™ = 0,299 x <span class=red>0</span> + 0,587 x <span class=green>0</span> + 0,114 x <span class=blue>255</span></p><p>Y' = 0 + 0 + 29,07</p><p>Y' = 29,07</p></div></section><section class="sd-slide conversion" data-num=25 data-slug=les-couleurs-disponibles><h2>Les couleurs disponibles</h2><table><tr><td rowspan=9><div class=sd-img><img src=assets/videotex/mire.jpeg loading=lazy alt="undefined"></div></td><td></td><td>Couleur</td><td>Luma</td></tr><tr><td><span style="width:3vw;height:3vw;background:#000;display:inline-block;margin:0 2vw"></span></td><td>Noir</td><td align=right>0</td></tr><tr><td><span style="width:3vw;height:3vw;background:#00f;display:inline-block;margin:0 2vw"></span></td><td>Bleu</td><td align=right>29.07</td></tr><tr><td><span style="width:3vw;height:3vw;background:red;display:inline-block;margin:0 2vw"></span></td><td>Rouge</td><td align=right>76.245</td></tr><tr><td><span style="width:3vw;height:3vw;background:#f0f;display:inline-block;margin:0 2vw"></span></td><td>Magenta</td><td align=right>105.315</td></tr><tr><td><span style="width:3vw;height:3vw;background:#0f0;display:inline-block;margin:0 2vw"></span></td><td>Vert</td><td align=right>149.685</td></tr><tr><td><span style="width:3vw;height:3vw;background:#0ff;display:inline-block;margin:0 2vw"></span></td><td>Cyan</td><td align=right>178.755</td></tr><tr><td><span style="width:3vw;height:3vw;background:#ff0;display:inline-block;margin:0 2vw"></span></td><td>Jaune</td><td align=right>225.93</td></tr><tr><td><span style="width:3vw;height:3vw;background:#fff;display:inline-block;margin:0 2vw"></span></td><td>Blanc</td><td align=right>255</td></tr></table><aside class=sd-notes>Arbitrairement, pour calculer la couleur qui correspond Ã  la luma dÃ©terminÃ©e prÃ©cÃ©demment, nous divisons la luma par 32 (32 x 8 = 256).<br></aside></section><section class=sd-slide data-num=26 data-slug=nouvelle-table-de-conversion><h2>Nouvelle table de conversion</h2><table><tr><td></td><td>Couleur</td><td>Luma</td></tr><tr><td><span style="width:3vw;height:3vw;background:#000;display:inline-block;margin:0 2vw"></span></td><td>Noir</td><td align=right>0 - 31</td></tr><tr><td><span style="width:3vw;height:3vw;background:#00f;display:inline-block;margin:0 2vw"></span></td><td>Bleu</td><td align=right>32 - 63</td></tr><tr><td><span style="width:3vw;height:3vw;background:red;display:inline-block;margin:0 2vw"></span></td><td>Rouge</td><td align=right>64 - 95</td></tr><tr><td><span style="width:3vw;height:3vw;background:#f0f;display:inline-block;margin:0 2vw"></span></td><td>Magenta</td><td align=right>96 - 127</td></tr><tr><td><span style="width:3vw;height:3vw;background:#0f0;display:inline-block;margin:0 2vw"></span></td><td>Vert</td><td align=right>128 - 159</td></tr><tr><td><span style="width:3vw;height:3vw;background:#0ff;display:inline-block;margin:0 2vw"></span></td><td>Cyan</td><td align=right>160 - 191</td></tr><tr><td><span style="width:3vw;height:3vw;background:#ff0;display:inline-block;margin:0 2vw"></span></td><td>Jaune</td><td align=right>192 - 223</td></tr><tr><td><span style="width:3vw;height:3vw;background:#fff;display:inline-block;margin:0 2vw"></span></td><td>Blanc</td><td align=right>224 - 255</td></tr></table></section><section class="sd-slide conversion" data-num=27 data-slug=rsum><h2>RÃ©sumÃ©</h2><p>1 motif de 2x3</p><p>2 couleurs parmi 8 :</p><ul><li>Texte</li><li>Surlignage</li></ul></section><section class="sd-slide conversion" data-num=28 data-slug=conversion-dimage><h2>Conversion d'image</h2><p></p><div class=sd-img><img src=assets/conversion/rillettes.png loading=lazy alt=rillettes width=800></div><p></p><p>Merci @aurelievache</p><p><span data-minitel=assets/conversion/rillettes.png></span></p></section><section class="sd-slide conversion" data-num=29 data-slug=redimensionnement-80x72><h2>Redimensionnement 80x72</h2><p></p><div class=sd-img><img src=assets/conversion/rillettes_80.png loading=lazy alt=rillettes width=80></div><p></p></section><section class="sd-slide sbs conversion svgconvert smalltitle" data-num=30 data-slug=traitement-par-bloc-de-2x3><h2>Traitement par bloc de 2x3</h2><p></p><div class=sd-img><img src=assets/conversion/part.drawio.svg loading=lazy alt=parts height=400></div><p></p><aside class=sd-notes>Les couleurs Minitel sont les suivantes :<br>Noir<br>Rouge<br>Vert<br>Jaune<br>Bleu<br>Magenta<br>Cyan<br>Blanc<br></aside></section><section class="sd-slide conversion" data-num=31 data-slug=rsultat><h2>RÃ©sultat</h2><p></p><div class=sd-img><img src=assets/conversion/convert.png loading=lazy alt="" width=80></div><p></p><p><span data-minitel=assets/conversion/convert.png></span></p></section><section class="sd-slide conversion" data-num=32 data-slug=rsultat><h2>RÃ©sultat</h2><p></p><div class=sd-img><img src=assets/conversion/convert.png loading=lazy alt="" width=800></div><p></p></section><section class="sd-slide conversion" data-num=33 data-slug=luma><h2>Luma</h2><p><pre><code class=language-js>const luma = (rgb) =&gt;
  Math.round(
    (  parseInt(rgb[0]) * 299 
     + parseInt(rgb[1]) * 587 
     + parseInt(rgb[2]) * 114
    ) / 1000
  );
</code></pre></p></section><section class="sd-slide conversion" data-num=34 data-slug=texte-ou-surlignage><h2>Texte ou Surlignage</h2><p><pre><code class=language-js>const state = (x, y, colors, pixels) =&gt; {
  const color = luma(pixels[x + y * 80]);
  const minLuma = Math.abs(colors[0] - color);
  const maxLuma = Math.abs(colors[1] - color);
  return minLuma &gt; maxLuma ? 0 : 1;
};
</code></pre></p></section><section class="sd-slide conversion" data-num=35 data-slug=motif><h2>Motif</h2><p><pre><code class=language-js>const motif = (x, y, colors, pixels) =&gt; {
  const xPix = x * 2;
  const yPix = y * 3;
  let car = 0;
  car += Math.pow(2, 0) * state(xPix + 0, yPix + 0, colors, pixels);
  car += Math.pow(2, 1) * state(xPix + 1, yPix + 0, colors, pixels);
  car += Math.pow(2, 2) * state(xPix + 0, yPix + 1, colors, pixels);
  car += Math.pow(2, 3) * state(xPix + 1, yPix + 1, colors, pixels);
  car += Math.pow(2, 4) * state(xPix + 0, yPix + 2, colors, pixels);
  car += Math.pow(2, 5) * 1;
  car += Math.pow(2, 6) * state(xPix + 1, yPix + 2, colors, pixels);
  return car;
};
</code></pre></p></section><section class="sd-slide steps conversion" data-num=36 data-slug=structure-de-la-trame-pour-lenvoi><h2>Structure de la trame pour l'envoi</h2><ul><li>CaractÃ¨re dâ€™effacement de lâ€™Ã©cran : <span class=code>0x0c</span></li><li>CaractÃ¨re de passage en mode semi-graphique : <span class=code>0x0e</span></li><li>Motifs</li></ul></section><section class="sd-slide steps conversion" data-num=37 data-slug=structure-de-la-trame-pour-un-motif><h2>Structure de la trame pour un motif</h2><ul><li>CaractÃ¨re de sÃ©paration : <span class=code>0x1b</span></li><li>Couleur de Texte : <span class=code>0x40</span> + la valeur de la couleur Minitel</li><li>CaractÃ¨re de sÃ©paration : <span class=code>0x1b</span></li><li>Couleur de Fond : <span class=code>0x50</span> + la valeur de la couleur Minitel</li><li>Motif sur 1 octet</li></ul></section><section class="sd-slide electronic" data-num=38 data-slug=electronique><h2>Electronique</h2><p><span data-minitel=assets/electronic/NodeMCU_DEVKIT_1.0.jpg></span></p></section><section class="sd-slide electronic" data-num=39 data-slug=din><h2>DIN</h2><p></p><div class=sd-img><img src=assets/electronic/din.jpeg loading=lazy alt=din width=900></div><p></p></section><section class="sd-slide electronic" data-num=40 data-slug=fonctionnement><h2>Fonctionnement</h2><p>Serial Port</p><p>RX, TX, GND</p></section><section class="sd-slide electronic" data-num=41 data-slug=carte-lectronique><h2>Carte Ã©lectronique</h2><p>NodeMCU ESP8266</p><p></p><div class=sd-img><img src=assets/electronic/NodeMCU_DEVKIT_1.0.jpg loading=lazy alt="" width=700></div><p></p></section><section class="sd-slide electronic" data-num=42 data-slug=branchement><h2>Branchement</h2><table><tr><td><div class=sd-img><img src=assets/electronic/image10.png loading=lazy alt="" height=500></div></td><td><div class=sd-img><img src=assets/electronic/image11.png loading=lazy alt="" height=500></div></td></tr></table><aside class=sd-notes>Mettre une rÃ©sistance entre la broche TX de lâ€™ESP8266 et RX du Minitel permet de filtrer le signal pour obtenir une meilleure transmission. MÃªme principe cÃ´tÃ© RX de lâ€™ESP8266 avec une rÃ©sistance â€œPullupâ€ pour nettoyer les ondes Ã©lectromagnÃ©tiques qui sont gÃ©nÃ©rÃ©es par le Minitel.<br></aside></section><section class="sd-slide electronic" data-num=43 data-slug=bibliothques><h2>BibliothÃ¨ques</h2><p><a href=https://github.com/eserandour/Minitel1B_Soft target=_blank rel=noopener>https://github.com/eserandour/Minitel1B_Soft</a></p><p>ğŸ™ Ã‰ric SÃ©randour</p><p>ESPAsyncWebSrv et ESPAsyncTCP</p></section><section class="sd-slide electronic" data-num=44 data-slug=arduino-headers><h2>Arduino - Headers</h2><p><pre><code class=language-arduino>#include &quot;Minitel1B_Soft.h&quot;
#include &lt;ESP8266WiFi.h&gt;
#include &lt;ESPAsyncTCP.h&gt;
#include &lt;ESPAsyncWebSrv.h&gt;
Minitel minitel(3, 1); // RX, TX
const char *ssid = &quot;3615Twitch&quot;;
const char *password = &quot;gouz.dev&quot;;
AsyncWebServer server(80);
</code></pre></p><p><span data-minitel=assets/minitel/arduino.png></span></p></section><section class="sd-slide electronic" data-num=45 data-slug=arduino-setup-1><h2>Arduino - Setup 1</h2><p><pre><code class=language-arduino>void setup() 
{
  minitel.changeSpeed(4800);
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED)
  {
    minitel.newScreen();
    minitel.println(&quot;Connecting to WiFi...&quot;);
    delay(1000);
  }
  minitel.newScreen();
  minitel.println(WiFi.localIP().toString());
</code></pre></p></section><section class="sd-slide electronic" data-num=46 data-slug=arduino-setup-2><h2>Arduino - Setup 2</h2><p><pre><code class=language-arduino>  server.on(&quot;/&quot;, HTTP_GET, [](AsyncWebServerRequest *request) { 
    request-&gt;send(200, &quot;text/html&quot;, &quot;&lt;!doctype html&gt;&lt;html lang=en&gt;...&lt;/html&gt;&quot;); 
  });
  server.on(&quot;/new&quot;, HTTP_GET, [](AsyncWebServerRequest *request) {
    minitel.newScreen();
    request-&gt;send(200); 
  });
  server.on(&quot;/end&quot;, HTTP_GET, [](AsyncWebServerRequest *request) {
    minitel.noCursor();
    request-&gt;send(200); 
  });
  server.on(&quot;/post&quot;, HTTP_POST, action);
  DefaultHeaders::Instance().addHeader(&quot;Access-Control-Allow-Origin&quot;, 
                                       &quot;*&quot;);
  server.begin();
  minitel.println(&quot;Ready!&quot;);
}
</code></pre></p></section><section class="sd-slide electronic" data-num=47 data-slug=arduino-loop-action><h2>Arduino - loop & action</h2><p><pre><code class=language-arduino>void loop() {}
void action(AsyncWebServerRequest *request)
{
  AsyncWebParameter* p = request-&gt;getParam(0);
  char *code = strtok( (char*) p-&gt;value().c_str(), &quot;,&quot;);
  while (code != NULL) {
    minitel.writeByte(atoi(code));
    code = strtok(NULL, &quot;,&quot;);
  }
  request-&gt;send(200);
}
</code></pre></p></section><section class="sd-slide twitch" data-num=48 data-slug=twitch><h2>Twitch</h2><p></p><div class=sd-img><img src=assets/twitch/twitch.svg loading=lazy alt="" width=400></div><p></p><p><span data-minitel=assets/twitch/twitch.svg></span></p></section><section class="sd-slide twitch" data-num=49 data-slug=!slide-49><h2>ğŸ¤–</h2><div class=minitel>Comment fonctionne un bot ?</div></section><section class="sd-slide twitch" data-num=50 data-slug=!slide-50><p></p><div class=sd-img><img src=assets/twitch/productionsdemoa.jpeg loading=lazy alt="" width=1400></div><p></p><p><span data-minitel=assets/minitel/productionsdemoa.jpeg></span></p><aside class=sd-notes>Gauche: le flux<br>Droite: le tchat<br></aside></section><section class="sd-slide twitch steps" data-num=51 data-slug=interactions-avec-le-tchat><h2>Interactions avec le tchat</h2><ul><li>EvÃ¨nement levÃ© par message</li><li>PossibilitÃ© d'Ã©crire dans le tchat</li><li><a href=https://www.npmjs.com/package/tmi.js target=_blank rel=noopener>https://www.npmjs.com/package/tmi.js</a></li></ul></section><section class="sd-slide twitch" data-num=52 data-slug=tmijs><h2>TMI.js</h2><p><pre><code class=language-js>import tmi from &quot;tmi.js&quot;;
const client = new tmi.Client({
  options: { debug: false, messagesLogLevel: &quot;info&quot; },
  connection: {
    reconnect: true,
    secure: true,
  },
  channels: [&quot;gouz$_$_&quot;],
});
client.connect().catch(console.error);
client.on(&quot;message&quot;, (channel, tags, message, self) =&gt; {
  if (self) return;
  treatMessage({ message, tags });
});
</code></pre></p></section><section class=sd-slide data-num=53 data-slug=traitement-dun-message><h2>Traitement d'un message</h2><p><pre><code class=language-js>const treatMessage = ({ message, tags }) =&gt; {
  const parts = message.toString().split(&quot; &quot;);
  const cmd = parts.shift();
  if (cmd.toLowerCase() <span class=s>= &quot;!3615&quot;) {</span>
    const prompt = parts.join(&quot; &quot;);
    if (
          (tags.mod || tags.badges.broadcaster) 
          &amp;&amp; prompt.startsWith(&quot;http&quot;)
    ) {
      // is moderator, then this viewer can send image directly
      loadImage(prompt).then(treatImage);
    } else {
      // ...
    }
  }
};
</code></pre></p></section><section class=sd-slide data-num=54 data-slug=stablediffusion><h2>StableDiffusion</h2><pre>
<code class=language-js>axios
  .post(`${process.env.STABLE_DIFFUSION_URL}/sdapi/v1/txt2img`, {
    width: 512,
    height: 512,
    steps: 10,
    prompt: `${prompt}, black and white`,
    negative_prompt: "nsfw",
    cfg_scale: 7,
  })
  .then(async (response) => {
    if (response.data.images.length) {
      const img = new Image();
      img.src = `data:image/png;base64, ${response.data.images[0]}`;
      treatImage(img);
    }
  });
</code>
</pre></section><section class="sd-slide steps" data-num=55 data-slug=conclusion><h2>Conclusion</h2><ul><li>DÃ©couverte pour les plus jeunes</li><li>Nostalgie pour les moins jeunes</li><li><a href=https://github.com/gouz/3615-Twitch target=_blank rel=noopener>https://github.com/gouz/3615-Twitch</a></li><li>Erreur il y a 47 ans</li><li>Inspiration pour Apple ?</li></ul><aside class=sd-notes>Ce projet permet de ressortir du placard, du grenier ou de la cave, ce bon vieux Minitel qui a tant bercÃ© lâ€™enfance de certains d'entre nous.<br><br>Il fait le pont entre modernitÃ© avec Twitch et nostalgie avec le Minitel et fait dÃ©couvrir cet appareil aux jeunes gÃ©nÃ©rations.<br><br>Lâ€™ensemble des sources est disponible sur <a href=https://github.com/gouz/3615-Twitch. target=_blank rel=noopener>https://github.com/gouz/3615-Twitch.</a> Libre Ã  vous de le forker, dâ€™y participer en ajoutant des commandes pour le Bot.<br></aside></section><section class=sd-slide data-num=56 data-slug=survival><h2>Survival</h2><p>03 58 43 51 50 : IUT Auxerre</p><p>MiniMit : <a href=https://github.com/multiplie-fr/minimit target=_blank rel=noopener>https://github.com/multiplie-fr/minimit</a></p></section><section class="sd-slide no-center" data-num=57 data-slug=crdit><h2>CrÃ©dit</h2><p>SliDesk: <a href=https://github.com/slidesk/slidesk target=_blank rel=noopener>https://github.com/slidesk/slidesk</a></p><p>Fonts: Minitel & Handlee</p><p>NodeMCU photo: Vowstar</p><p>Backgrounds : Unsplash, ...</p><p><span data-minitel=assets/minitel/slidesk.png></span></p></section><section class=sd-slide data-num=58 data-slug=remerciements><h2>Remerciements</h2><p>ğŸ“– FranÃ§ois Tonic & le magazine Programmez! (nÂ°258)</p><p>ğŸ¼ Thierry Chantier & ğŸ“¶ Kongduino</p><p>ğŸ’¾ Eric SÃ©randour</p><p>ğŸˆâ€â¬› AurÃ©lie Vache</p><p>ğŸ“ Bernard Marti</p></section><section class=sd-slide data-num=59 data-slug=!slide-59><h2>ğŸ«¶</h2><p>des questions ?</p><p></p><div class=sd-img><img src=assets/feedbacks.png loading=lazy alt="undefined"></div><p></p></section><section class="sd-slide activate-minitel" data-num=60 data-slug=cest-vous><h2>C'est Ã  vous</h2><p>C'est Ã  vous ! <span class=treasure><a href=http://192.168.0.101:1337/public target=_blank rel=noopener>http://192.168.0.101:1337/public</a></span></p><table><tr><td><div id=sd-qrcode data-url=http://192.168.0.101:1337/public></div></td><td><video autoplay=true id=webcam></video></td></tr></table></section><script src=slidesk.js></script><script src=./plugins/autonext/autonext.js></script><script src=./plugins/steps/steps.js></script><script src=./plugins/progress/progress.js></script><script src=./plugins/qrcode/qrcode.lib.js></script><script src=./plugins/qrcode/qrcode.js></script><script src=./plugins/sbs/sbs.js></script><script src=./plugins/escape/escape.js></script><script src=./plugins/webcam/webcam.js></script><script src=./plugins/svg/svg.js></script><script src=./plugins/minitel/CanvasManager.js></script><script src=./plugins/minitel/ConvertVideotex.js></script><script src=./plugins/minitel/minitel.js></script><script src=./plugins/highlightjs/highlight.min.js></script><script src=./plugins/highlightjs/highlightjs.copy.js></script><script src=./plugins/highlightjs/plugin.js></script><div id="sd-progress"></div><canvas width="80" height="72" id="minitel-canvas"></canvas></body></html>